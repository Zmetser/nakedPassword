(function(){var a=new Class({Implements:[Options,Events],options:{path:"images/",sex:"f",resize:true,imgClass:"nakedPasswdImage"},toElement:function(){return this.element},initialize:function(c,b){this.setOptions(b);this.o=this.options;this.element=document.id(c);this.bound=this.trigger.bind(this);this.build().attach();return this},attach:function(){$(this).addEvents({keyup:this.bound,blur:this.bound});return this},trigger:function(b){this.strength=this._getPasswordStrength(b.target.value);this.update();return this},build:function(){var b=new Asset.image(this.o.path+this.o.sex+"0.png",{"class":this.o.imgClass,styles:{opacity:0,visibility:"hidden"},onLoad:function(d){if(this.o.resize){var c={x:d.get("width"),y:d.get("height")};inputHeight=$(this).getComputedSize().height,ratio=inputHeight/c.y,c.x=(c.x*ratio).toInt();d.set({width:c.x,height:inputHeight,styles:{width:c.x,height:inputHeight}})}d.inject($(this),"after");d.position({relativeTo:$(this),position:"centerRight",edge:"centerRight",offset:{x:-10}});this.img=d}.bind(this)});return this},update:function(){if(!this.img){return false}this.img.set("src",this.o.path+this.o.sex+this.strength+".png");this.img.fade("in");return this},_getPasswordStrength:function(b){return 0+ +(b.length>5)+ +(/[a-z]/.test(b)&&/[A-Z]/.test(b))+ +(/\d/.test(b)&&/\D/.test(b))+ +(/[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/.test(b)&&/\w/.test(b))+ +(b.length>12)}});Element.implement({nakedPassword:function(b){return this.store("nakedpass",new a(this,b))}})}());